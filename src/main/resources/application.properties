spring.config.import=optional:file:.env[.properties]
spring.application.name=visang
# ?? ??
spring.profiles.active=dev

# Jasypt 설정
jasypt.encryptor.algorithm=PBEWithMD5AndDES
# 비밀번호는 환경 변수나 시스템 프로퍼티에서 읽음
jasypt.encryptor.password=${JASYPT_ENCRYPTOR_PASSWORD}

# MVC 뷰 설정
spring.mvc.view.prefix=/WEB-INF/views/
spring.mvc.view.suffix=.jsp

# Thymeleaf 공통 설정
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.mode=HTML
spring.thymeleaf.encoding=UTF-8
spring.thymeleaf.cache=false

# 실제 이미지 저장 경로
file.upload-dir=${FILE_UPLOAD_PATH:./upload}
file.upload-dir.pdf=${FILE_UPLOAD_PDF_PATH:./upload/pdf}

# 파일 업로드 설정
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# 포트설정 ( 오라클과 충돌 예방)
server.port=${SERVER_PORT:8080}

#db 설정
spring.datasource.url=jdbc:oracle:thin:@localhost:1521:XE
spring.datasource.username=${DB_USER}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=oracle.jdbc.OracleDriver

# HikariCP 설정 (spring.datasource.hikari로 시작)
spring.datasource.hikari.maximum-pool-size=${DB_MAX_POOL_SIZE:10}
spring.datasource.hikari.minimum-idle=${DB_MIN_IDLE:5}
spring.datasource.hikari.idle-timeout=${DB_IDLE_TIMEOUT:30000}
spring.datasource.hikari.connection-timeout=${DB_CONNECTION_TIMEOUT:30000}
spring.datasource.hikari.max-lifetime=${DB_MAX_LIFETIME:1800000}

#Mail 설정
spring.mail.host=smtp.gmail.com
spring.mail.port=587
#spring.mail.username=ENC(xtXeprUlQkm9wkgotBluILc1Xz95e6IxzbjGgZo7HAkULVajpHvu3rkxSafZlQx4)
#spring.mail.password=ENC(73ZGRmsV98W6AGuuOs9eXj5wBv7YRorMvHmY1OHThjCxrSNMNkm0wQ==)
spring.mail.username=${GMAIL_USER}
spring.mail.password=${GMAIL_PASSWORD}
spring.mail.protocol=smtp

# 추가 설정
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.debug=true   # 디버그 로그 출력



# Redis 설정
spring.data.redis.host=${REDIS_HOST:localhost}
spring.data.redis.port=${REDIS_PORT:6379}
# spring.data.redis.password=yourRedisPassword// 비밀번호 설정된경우
spring.data.redis.timeout=${REDIS_TIMEOUT}
# (선택) 커넥션 타임아웃

# Mybatis 설정
#mapper 파일에서 resultType ="kr.or.kosa.model.User"
# kr.or.kosa.model 을 미리 만든다 -> resultType User 이렇게 사용 가능
mybatis.type-aliases-package=kr.or.kosa.visang.domain.*.model
mybatis.mapper-locations=classpath:mapper/*.xml

server.ssl.key-store=${STORE_PATH}
server.ssl.key-store-password=${KEY_STORE_PASSWORD}
server.ssl.key-store-type=PKCS12
server.ssl.key-alias=visang-selfsigned

spring.messages.basename=message/adminSideBar
spring.messages.encoding=UTF-8
